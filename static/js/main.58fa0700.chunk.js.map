{"version":3,"sources":["components/Carousel.tsx","App.tsx","index.tsx"],"names":["Carousel","_ref","images","step","frameSize","itemWidth","animationDuration","shift","setShift","useState","maxShift","length","prevFrameSizeRef","useRef","position","setPosition","maxPosition","useEffect","current","prevPosition","_jsx","className","style","width","concat","children","_jsxs","map","image","id","parseInt","src","alt","transform","transition","cn","type","onClick","handlePrev","prevShift","disabled","handleNext","nextShift","App","React","Component","constructor","arguments","state","render","this","htmlFor","name","min","max","value","onChange","event","setState","target","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.58fa0700.chunk.js","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport './Carousel.scss';\nimport cn from 'classnames';\n\ninterface Props {\n  images: string[];\n  step: number;\n  frameSize: number;\n  itemWidth: number;\n  animationDuration: number;\n}\nconst Carousel: React.FC<Props> = (\n  {\n    images,\n    step,\n    frameSize,\n    itemWidth,\n    animationDuration,\n  },\n) => {\n  const [shift, setShift] = useState(0);\n  const totalImagesWidth = images.length * itemWidth;\n  const maxShift = totalImagesWidth - itemWidth * frameSize;\n  const prevFrameSizeRef = useRef<number>(frameSize);\n  const [position, setPosition] = useState(0);\n  const maxPosition = images.length - frameSize;\n\n  useEffect(() => {\n    if (frameSize > prevFrameSizeRef.current && position > maxPosition) {\n      setPosition(prevPosition => prevPosition - 1);\n    }\n\n    prevFrameSizeRef.current = frameSize;\n  }, [frameSize, position, maxPosition]);\n\n  const handleNext = () => {\n    const nextShift = shift - step * itemWidth;\n\n    if (nextShift >= -maxShift) {\n      setShift(nextShift);\n    } else {\n      setShift(-maxShift);\n    }\n\n    if (frameSize < prevFrameSizeRef.current && position < maxPosition) {\n      setPosition(position + 1);\n    }\n  };\n\n  const handlePrev = () => {\n    const prevShift = shift + step * itemWidth;\n\n    if (prevShift <= 0) {\n      setShift(prevShift);\n    } else {\n      setShift(0);\n    }\n\n    if (frameSize < prevFrameSizeRef.current && position > maxPosition) {\n      setPosition(position - 1);\n    }\n  };\n\n  return (\n    <div\n      className=\"Carousel\"\n      style={{\n        width: `${(itemWidth * frameSize)}px`,\n      }}\n    >\n      <div className=\"Carousel__container\">\n        <ul\n          className=\"Carousel__list\"\n        >\n          {images.map((image) => {\n            const id = parseInt(image, 10);\n\n            return (\n              <li key={id}>\n                <img\n                  src={image}\n                  alt={`Item with ID ${id}`}\n                  style={{\n                    width: `${itemWidth}px`,\n                    transform: `translateX(${shift}px)`,\n                    transition: `transform ${animationDuration}ms ease-in-out`,\n                  }}\n                />\n              </li>\n            );\n          })}\n        </ul>\n\n        <div className=\"Carousel__buttons\">\n          <button\n            className={cn('Carousel__button',\n              { 'disabled-button': shift === 0 })}\n            type=\"button\"\n            onClick={handlePrev}\n            disabled={shift === 0}\n          >\n            Prev\n          </button>\n          <button\n            className={cn('Carousel__button',\n              {\n                'disabled-button':\n            shift === -((images.length * itemWidth) - itemWidth * frameSize),\n              })}\n            type=\"button\"\n            data-cy=\"next\"\n            onClick={handleNext}\n            disabled={\n              shift === -((images.length * itemWidth) - itemWidth * frameSize)\n            }\n          >\n            Next\n          </button>\n        </div>\n\n      </div>\n    </div>\n  );\n};\n\nexport default Carousel;\n","import React from 'react';\nimport './App.scss';\nimport Carousel from './components/Carousel';\n\ninterface State {\n  images: string[],\n  itemWidth: number;\n  frameSize: number;\n  step: number;\n  animationDuration: number;\n}\n\nclass App extends React.Component<{}, State> {\n  state = {\n    images: [\n      './img/1.png',\n      './img/2.png',\n      './img/3.png',\n      './img/4.png',\n      './img/5.png',\n      './img/6.png',\n      './img/7.png',\n      './img/8.png',\n      './img/9.png',\n      './img/10.png',\n    ],\n    itemWidth: 130,\n    frameSize: 3,\n    step: 3,\n    animationDuration: 1000,\n  };\n\n  render() {\n    const {\n      images,\n      itemWidth,\n      frameSize,\n      step,\n      animationDuration,\n    } = this.state;\n\n    const handleItemWidthChange\n    = (event: React.ChangeEvent<HTMLInputElement>) => {\n      this.setState({ itemWidth: +event.target.value });\n    };\n\n    const handleFrameSizeChange\n    = (event: React.ChangeEvent<HTMLInputElement>) => {\n      this.setState({ frameSize: +event.target.value });\n    };\n\n    const handleStepChange\n    = (event: React.ChangeEvent<HTMLInputElement>) => {\n      this.setState({ step: +event.target.value });\n    };\n\n    const handleAnimationDurationChange\n    = (event: React.ChangeEvent<HTMLInputElement>) => {\n      this.setState({ animationDuration: +event.target.value });\n    };\n\n    return (\n      <div className=\"App\">\n        <h1 data-cy=\"title\" className=\"App__title\">\n          Carousel with\n          {' '}\n          {images.length}\n          {' '}\n          images\n        </h1>\n\n        <div className=\"App__container\">\n          <form className=\"App__form\">\n            <div className=\"App__element\">\n              <label htmlFor=\"width\">Item Width:</label>\n              <input\n                className=\"App__input\"\n                id=\"width\"\n                type=\"number\"\n                name=\"width\"\n                min={50}\n                max={390}\n                step={10}\n                value={itemWidth}\n                onChange={handleItemWidthChange}\n              />\n\n            </div>\n\n            <div className=\"App__element\">\n              <label htmlFor=\"size\">Frame Size:</label>\n              <input\n                className=\"App__input\"\n                type=\"number\"\n                name=\"size\"\n                id=\"size\"\n                value={frameSize}\n                min={1}\n                max={images.length}\n                onChange={handleFrameSizeChange}\n              />\n            </div>\n\n            <div className=\"App__element\">\n              <label htmlFor=\"step\">Step:</label>\n              <input\n                className=\"App__input\"\n                type=\"number\"\n                name=\"step\"\n                id=\"step\"\n                value={step}\n                min={1}\n                max={10}\n                onChange={handleStepChange}\n              />\n            </div>\n\n            <div className=\"App__element\">\n              <label htmlFor=\"animation\">Animation Duration:</label>\n              <input\n                className=\"App__input\"\n                type=\"number\"\n                name=\"animation\"\n                id=\"animation\"\n                value={animationDuration}\n                min={100}\n                step={100}\n                onChange={handleAnimationDurationChange}\n              />\n            </div>\n          </form>\n        </div>\n        <Carousel\n          images={images}\n          step={step}\n          frameSize={frameSize}\n          itemWidth={itemWidth}\n          animationDuration={animationDuration}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}